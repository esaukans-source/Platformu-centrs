<!doctype html>
<html lang="lv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pieteikt Darbu | 30Sek</title>
  <meta name="description" content="Iesniedz darba pieteikumu un saņem meistaru piedāvājumus." />
  <link rel="canonical" href="https://www.30sek24.com/pieteikt-darbu" />
  <link rel="stylesheet" href="/assets/styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="container">
      <a href="/" class="logo"><img src="/assets/logo-30sek.png" alt="30Sek logo" class="logo-img" /><span class="logo-text">30Sek</span></a>
      <nav class="nav">
        <a href="/cenas">Cenas</a>
        <a href="/maksajumi">Maksājumi</a>
        <a href="/noteikumi">Noteikumi</a>
        <a href="/privatums">Privātums</a>
        <a href="/en/pieteikt-darbu" class="lang-switch">EN</a>
        <a href="/ru/pieteikt-darbu" class="lang-switch">RU</a>
        <a href="/de/pieteikt-darbu" class="lang-switch">DE</a>
      </nav>
    </div>
  </header>
  <nav aria-label="Breadcrumb" class="breadcrumbs"><div class="container"><a href="/">Sākums</a> / <span>Pieteikt darbu</span></div></nav>
  <main>
    <section class="hero">
      <h1>Pieteikt darbu</h1>
      <p>Aizpildi formu, un mēs nodosim pieteikumu pieejamajiem meistariem.</p>
    </section>
    <section class="block">
      <form class="lead-form" id="form-lv" name="work-request-lv" method="POST" enctype="multipart/form-data" data-netlify="true" netlify-honeypot="bot-field" action="/paldies">
        <input type="hidden" name="form-name" value="work-request-lv" />
        <input type="hidden" name="bot-field" />
        <label>Vārds un uzvārds
          <input type="text" name="name" required />
        </label>
        <label>Tālrunis
          <input type="tel" name="phone" required />
        </label>
        <label>E-pasts
          <input type="email" name="email" required />
        </label>
        <label>Pakalpojums
          <select name="service" required id="service-lv">
            <option value="">Izvēlies pakalpojumu</option>
            <option>Santehniķis</option>
            <option>Elektriķis</option>
            <option>Apkure</option>
            <option>Iekšējā apdare</option>
            <option>Namdari / galdnieki</option>
            <option>Bruģētāji</option>
            <option>Pamatu būvniecība / betonēšana</option>
            <option>Ārdarbi</option>
            <option>Avārijas darbi 24/7</option>
          </select>
        </label>
        <label>Adrese vai pilsēta
          <input type="text" name="location" required />
        </label>
        <label>Apraksts
          <textarea name="message" rows="5" required></textarea>
        </label>
        <label>Bildes (JPG/PNG)
          <input type="file" name="photos" accept="image/*" multiple id="photos-lv" />
        </label>
        <div id="photos-preview-lv" class="media-preview"></div>
        <label>Video (MP4/MOV)
          <input type="file" name="video" accept="video/*" id="video-lv" />
        </label>
        <div id="video-preview-lv" class="media-preview"></div>
        <p class="note">Ja izvēlies "Avārijas darbi 24/7", bilde un video ir obligāti.</p>
        <p class="note">Pievienotie faili tiks nosūtīti kopā ar pieteikumu meistariem.</p>
        <p class="note">Failu limiti: bilde līdz 10MB (katra), video līdz 50MB.</p>
        <p id="error-lv" class="form-error"></p>
        <button type="submit" class="btn">Iesniegt pieteikumu</button>
      </form>
    </section>
  </main>
  <script>
    (function () {
      var service = document.getElementById("service-lv");
      var photos = document.getElementById("photos-lv");
      var video = document.getElementById("video-lv");
      var photosPreview = document.getElementById("photos-preview-lv");
      var videoPreview = document.getElementById("video-preview-lv");
      var form = document.getElementById("form-lv");
      var error = document.getElementById("error-lv");
      if (!service || !photos || !video || !photosPreview || !videoPreview || !form || !error) return;
      var MAX_IMAGE_BYTES = 10 * 1024 * 1024;
      var MAX_VIDEO_BYTES = 50 * 1024 * 1024;
      function toggleRequired() {
        var emergency = (service.value || "").indexOf("24/7") !== -1;
        photos.required = emergency;
        video.required = emergency;
      }
      function renderPhotos() {
        photosPreview.innerHTML = "";
        if (!photos.files || photos.files.length === 0) return;
        Array.prototype.slice.call(photos.files, 0, 6).forEach(function (file) {
          var img = document.createElement("img");
          img.src = URL.createObjectURL(file);
          img.alt = file.name;
          img.className = "preview-thumb";
          photosPreview.appendChild(img);
        });
      }
      function renderVideo() {
        videoPreview.innerHTML = "";
        if (!video.files || video.files.length === 0) return;
        var v = document.createElement("video");
        v.controls = true;
        v.className = "preview-video";
        v.src = URL.createObjectURL(video.files[0]);
        videoPreview.appendChild(v);
      }
      service.addEventListener("change", toggleRequired);
      photos.addEventListener("change", renderPhotos);
      video.addEventListener("change", renderVideo);
      form.addEventListener("submit", function (e) {
        error.textContent = "";
        if (photos.files && photos.files.length) {
          for (var i = 0; i < photos.files.length; i++) {
            if (photos.files[i].size > MAX_IMAGE_BYTES) {
              e.preventDefault();
              error.textContent = "Katra bilde drīkst būt līdz 10MB.";
              return;
            }
          }
        }
        if (video.files && video.files[0] && video.files[0].size > MAX_VIDEO_BYTES) {
          e.preventDefault();
          error.textContent = "Video drīkst būt līdz 50MB.";
        }
      });
      toggleRequired();
    })();
  </script>
</body>
</html>
